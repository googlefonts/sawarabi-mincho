<!DOCTYPE html>
<html lang="en" dir="auto">
<head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>GFR - Text</title>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <style type="text/css">
    
        html{
	  font-family: sans-serif;
	}
    @font-face {
        font-family: "Adobe NotDef";
        src: url(https://cdn.jsdelivr.net/gh/adobe-fonts/adobe-notdef/AND-Regular.ttf);
    }
	.box-title{
	  width: 100%;
	  font-size: 8pt;
	  font-weight: 700;
	  border-top: 1px solid black;
	  padding-top: 5px;
	  margin-bottom: 10pt;
	  display: block;
	}
	.box{
	  margin-bottom: 20pt;
	  width: 100%;
	  float: left;
	}
	.box-text{
	}
	
	#nav{
	  position: fixed;
	  right: 20px;
	  z-index: 100;
	}
	#font-toggle{
	}
	.nav-item{
		display: block;
		cursor: pointer;
		-webkit-user-select: none; /* Safari */        
		-moz-user-select: none; /* Firefox */
			-ms-user-select: none; /* IE10+/Edge */
		user-select: none; /* Standard */
		text-align: center;
		color: white;
		background-color: black;
		display: block;
		font-size: 9pt;
		padding: 5px;
		margin: 2px;
	}
	.tooltip {
	position: relative;
	display: inline-block;
	border-bottom: 1px dotted black;
	}

	.tooltip .tooltiptext {
	font-family: sans-serif;
	visibility: hidden;
	width: 500px;
	background-color: black;
	color: #fff;
	text-align: left;
	font-size: 12pt;
	line-height: 15pt;
	border-radius: 6px;
	padding: 5px 0;

	/* Position the tooltip */
	position: absolute;
	z-index: 1;
	}

	.tooltip:hover .tooltiptext {
	padding: 10px;
	visibility: visible;
	}
	.tooltipleft {
		float:left;
		width: 249px;
	}
	.tooltipright {
		float:right;
		width:250px;
	}

			/* Stuff needed for the table differ */
            body {
                font-family: Helvetica;
            }
            .node {
                font-family: courier;
                cursor: pointer;
                position: relative;
                left: 30px;
                padding: 5px;
                display: block;
                border: 1px dashed grey;
            }
            .header {
            font-weight: bold;
            }
            .attr-before{
                color: red;
                cursor: text;
            }
            .attr-after{
                color: green;
                cursor: text;
            }
            .leaf {
            font-weight: bold;
            }
            .old .cell .new {
            	display:  none;
            }
            .new .cell .old {
            	display:  none;
            }
            .both .cell .old {
            	opacity: 0.75;
            	color:  red;
            }
            .both .cell .new {
            	opacity: 0.75;
            	position: absolute;
            	top: 0;
            	color:  green;
            }
			.spacer {
				display:block;
				float:left;
				width:100%;
			}

	  

	  

	  
	    @font-face{
    src: url(SawarabiMincho-Regular.ttf);
    font-family: "Sawarabi Mincho";
    font-weight: 400;
    
    font-style: normal;
}
	  

	  

	  

	  
	    .Regular{
    font-family: "Sawarabi Mincho", "Adobe NotDef";
    font-weight: 400;
    
    font-style: normal;
    font-variation-settings: "wght" 400;
}
	  
	

	   #ot-panel {
		max-height: 400px;
		overflow-y: scroll;
		background: white;
		padding: 10px;
		display: none;
	   }
    </style>
</head>
<body>
    <div id="nav">
		
			<div class="nav-item" id="ot-button">OT features</div>
			<div id="ot-panel">
			</div>
		
	</div>
    <div id="content">
	<h2>
<b>Text</b>
</h2>
	
  
    <div class="box">
      <div class="box-title">Regular 20pt</div>
	<div contenteditable=true spellcheck="false" class="box-text Regular" dir="auto" style="font-size: 20pt">Resolution 217 A (III) vom 10.12.1948 Da die Anerkennung angeborenen Würde gleichen unveräußerlichen Mitglieder Gemeinschaft Freiheit, Nichtanerkennung Verachtung zu Barbarei Gewissen Empörung Streben Herrschaft Tyrannei Unterdrückung Charta Person Lebensbedingungen Zusammenarbeit jeder Organe Jeder Überzeugung, werden; Kulthandlungen Ämtern Existenz que intrínseca aspiración más régimen común enseñanza izzet-hörmitini aylan'ghanliqi, ijtima’iy qilidu: Yora ¿Un huatiromanmun? senenhas"honra IQUl, JONÍ Él barbàrie consciència creença, rebel·lió autònom, països TUÁKAR AÚJMATISAMU pu]ustinrin, thë wã ĩhĩ maõpë, Ĩhĩ TOTIHITAWË Ã owëmayõũ 大会， 任何人不得加以任意逮捕、拘禁或放逐。 kuŋ en’thi/ Considerînd că recunoașterea demnității GENERALĂ DECLARAȚIE În ce6 Birleşmiş Asambleyasının Basılêr İlerlemä Deklaraţlyasını tegnì dùthchannan, Ɖinaa SƆSƆƆ KEDEŊGA Xiskuamana, sẽn [Missing] pœga, Considerând Pieņemta pasludināta Ģenerālās rezolūciju Ņemot vērā sabiedrības locekļiem piemītošās reliģiskās, atšķirības ierobežota Šīs Īstenojot ŋǝđamia Đǝrraiđia WALINKAÑAPATAKI E'~mbi čačipa bipaćape “raica qali.” hō'ē 3-'E tina¿;¡ju ďekesi ‘bukuluŋ. Ďeďekarikin & Övertügen, nateûre égåls, s-ôtes vre̊ymint secretario.general@interlingua.com GWIRIOÙ kǎ kǒ nüxü̃́ nai>>ctaxa ğıyom Çımiku po'ñoc̈h iñapytlʼyre manuśenqe famělia aspirŕcia trąden rňdel teritorűqesqiri, maźutipen naśărdől Âaj procedůra. d´fhiacha -2» į žmonių giminės sąžinę, Įgyvendindamas Òmma Ês 1958 因此依家， Ĝenerala ĉiuj efektiviĝo kontraŭ Ĉarto Ŝtatoj-Membroj paŝoj posedaĵoj, tjuta! Ó KU`OTENESE đồng Với thức jǐ Nǔ Åtta éyaltai{ab 因此現在， 任何人勿会用加以任意枇、拘禁抑放逐。 Enyiń bǎsí atâ Það þetta réttlætis lýst, 人類社会の全部の構成員の固有の尊厳と平等で譲れない権利とを承認することは、世界における自由、正義と平和の基礎だから、 人権の無視と軽侮が、人類の良心を踏みにじった野蛮行為をもたらし、言論と信仰の自由が受けられ、恐怖と欠乏のない世界の到来が、一般の人々の最高の願望として宣言されたから、 人間が専制と圧迫とに対する最後の手段として反逆に訴えることがないようにするためには、法の支配によって人権を保護することが肝要だから、 諸国間の友好関係の発展を促進することが肝要だから、 国際連合の諸国民は、国連憲章において、基本的人権、人間の尊厳と価値並びに男女の同権についての信念を再確認し、かつ、一層大きな自由のうちで社会的進歩と生活水準の向上とを促進することを決意したから、 加盟国は、国際連合と協力して、人権と基本的自由の普遍的な尊重と遵守の促進を達成することを誓約したから、 これらの権利と自由に対する共通の理解は、この誓約を完全にするためにもっとも重要だから、 よって、ここに、国連総会は、 社会の各個人と各機関が、この世界人権宣言を常に念頭に置きながら、加盟国自身の人民の間にも、また、加盟国の管轄下にある地域の人民の間にも、これらの権利と自由との尊重を指導と教育によって促進すること並びにそれらの普遍的措置によって確保することに努力するように、全部の人民と全部の国とが達成すべき共通の基準として、この人権宣言を公布する。 全部の人間は、生まれながらにして自由であり、かつ、尊厳と権利と について平等である。人間は、理性と良心とを授けられており、互いに同 胞の精神をもって行動しなければならない。 全部の人は、人種、皮膚の色、性、言語、宗教、政治上その他の意見、国民的もしくは社会的出身、財産、門地その他の地位又はこれに類するいかなる自由による差別をも受けることなく、この宣言に掲げるすべての権利と自由とを享有することができる。 さらに、個人の属する国又は地域が独立国であると、信託統治地域であると、非自治地域であると、又は他のなんらかの主権制限の下にあるとを問わず、その国又は地域の政治上、管轄上又は国際上の地位に基ずくいかなる差別もしてはならない。 全部の人は、生命、自由と身体の安全に対する権利がある。 何人も、奴隷にされ、又は苦役に服することはない。奴隷制度と奴隷売買は、いかなる形においても禁止する。 何人も、拷問又は残虐な、非人道的なもしくは屈辱的な取扱もしくは刑罰を受けることはない。 全部の人は、いかなる場所においても、法の下において、人として認められる権利がある。 全部の人は、法の下において平等であり、また、いかなる差別もなしに法の平等な保護を受ける権利がある。全部の人は、この宣言に違反するいかなる差別に対しても、また、そのような差別をそそのかすいかなる行為に対しても、平等な保護を受ける権利がある。 全部の人は、憲法又は法律によって与えられた基本的権利を侵害する行為に対し、権限がある国内裁判所による効果的な救済を受ける権利を有する。 何人も、ほしいままに逮捕、拘禁、又は追放されることはない。 全部の人は、自己の権利と義務並びに自己に対する刑事責任が決定されるに当たって、独立の公平な裁判所による公平な公開の審理を受けることについて完全に平等の権利がある。 犯罪の訴追を受けた者は、すべて、自己の弁護に必要なすべての保障を与えられた公開の裁判において法律に従って有罪の立証があるまでは、無罪と推定される権利がある。 何人も、実行の時に国内法又は国際法により犯罪を構成しなかった作為又は不作為のために有罪とされることはない。また、犯罪が行われた時に適用される刑罰より重い刑罰は課せられない。 何人も、自己の私事、家族、家庭もしくは通信に対して、ほしいままに干渉され、又は名誉と信用に対して攻撃を受けることはない。人はすべて、このような干渉又は攻撃に対して法の保護を受ける権利がある。 全部の人は、各国の境界内において自由に移転と居住する権利を有する。 全部の人は、自国その他いずれの国をも立ち去り、と自国に帰る権利がある。 全部の人は、迫害からの避難を他国に求め、かつ、これを他国で享有する権利がある。 この権利は、非政治犯罪又は国際連合の目的と原則に反する行為をもっぱら原因とする訴追の場合には、採用することはできない。 全部の人は、国籍をもつ権利がある。 何人も、ほしいままにその国籍を奪われ、又はその国籍を変更する権利を否認されることはない。 成年の男女は、人種、国籍又は宗教によるいかなる制限をも受けることなく、婚姻し、かつ家庭をつくる権利がある。成年の男女は、婚姻中とその解消に際し、婚姻に関し平等の権利がある。 婚姻は、婚姻の意思がある両当事者の自由かつ完全な合意によってのみ成立する。 家庭は、社会の自然かつ基礎的な集団単位であって、社会と国の保護を受ける権利がある。 全部の人は、思想、良心と宗教の自由を享有する権利がある。この権利は、宗教又は信念を変更する自由並びに単独で又は他の者と共同して、公的に又は私的に、布教、行事、礼拝と儀式によって宗教又は信念を表明する自由を含む。 全部の人は、意見と表現の自由を享有する権利がある。この権利は、干渉を受けることなく自己の意見をもつ自由並びにあらゆる手段により、また、国境を越えると否とにかかわりなく、情報と思想を求め、受け、と伝える自由を含む。 全部の人は、平和的な集会と結社の自由を享有する権利がある。 何人も、結社に属することを強制されない。 全部の人は、直接に又は自由に選出された代表者を通じて、自国の政治に参与する権利がある。 全部の人は自国においてひとしく公務につく権利がある。 人民の意思は、統治の権力の基礎とならなければならない。この意思は、定期のかつ真正な選挙によって表明されなければならない。この選挙は、平等の普通選挙によるものでなければならず、また、秘密投票又はこれと同等の自由が保障される投票手続によって行われなければならない。 全部の人は、社会の一員として、社会保障を受ける権利を有し、かつ、国家的努力と国際的協力により、また、各国の組織と資源に応じて、自己の尊厳と自己の人格の自由な発展とに欠くことのできない経済的、社会的と文化的権利の実現に対する権利がある。 全部の人は、労働し、職業を自由に選択し、公平かつ有利な労働条件を確保し、と失業に対する保護を受ける権利がある。 全部の人は、いかなる差別をも受けることなく、同等の労働に対し、同等の報酬を受ける権利がある。 労働する者は、すべて、自己と家族に対して人間の尊厳にふさわしい生活を保障する公平かつ有利な報酬を受け、かつ、必要な場合には、他の社会的保護手段によって補充を受け取られる。 全部の人は、自己の利益を保護するために労働組合を組織し、とこれに加入する権利がある。 全部の人は、労働時間の合理的な制限と定期的な有給休暇を含む休息と余暇をもつ権利がある。 全部の人は、衣食住、医療と必要な社会的施設等により、自己及び家族の健康と福祉に十分な生活水準を保持する権利並びに失業、疾病、心身障害、配偶者の死亡、老齢その他不可抗力による生活不能の場合は、保障を受ける権利がある。 母と子とは、特別の保護と援助を受ける権利がある。すべての児童は、嫡出であると否とを問わず、同じ社会的保護を享有する。 全部の人は、教育を受ける権利がある。教育は、少なくとも初等のと基礎的の段階においては、無償でなければならない。初等教育は、義務的でなければならない。技術教育と職業教育は、一般に利用できるもでなければならず、また、高等教育は、能力に応じ、すべての者にひとしく開放されていなければならない。 教育は、人格の完全な発展並びに人権と基本的自由の尊重の教科を目的としなければならない。教育は、すべての国又は人種的もしくは宗教的集団の相互間の理解、寛容と友好関係を増進し、かつ、平和の維持のため、国際連合の活動を促進するものでなければならない。 親は、子に与える教育の種類を選択する優先的権利がある。 全部の人は、自由に社会の文化生活に参加し、芸術を鑑賞し、と科学の進歩とその恩恵とにあずかる権利がある。 全部の人は、その創作した科学的、文学的又は美術的作品から生ずる精神的と物質的利益を保護される権利がある。 全部の人は、この宣言に掲げる権利と自由が完全に実現される社会的と国際的秩序に対する権利がある。 全部の人は、その人格の自由かつ完全な発展がその中にあつてのみ可能である社会に対して義務を負う。 全部の人は、自己の権利と自由を行使するに当たつては、他人の権利と事由の正当な承認と尊重を保障すること並びに民主的社会における道徳、公の秩序と一般の福祉の正当な要求を満たすことをもっぱら目的として法律によって定められた制限にのみ服する。 この宣言のいかなる規定も、いずれかの国、集団又は個人に対して、この宣言に掲げる権利と自由の破壊を目的とする活動に従事し、又はそのような目的がある行為を行う権利を認めるものと解釈してはならない。 ese_ejja UNIVERSÈLE DREÛTS eşit doğarlar. İnsan BAŞ ASSAMBLEÝA HUKUKLARYNYŇ d’Ànerkannùng Ìn Ïa ľných tešiť SHROMAŽDENIE Čo tia;\ui. bekjentgjøre VERDENSERKLÆRING i%anique raryijnty£ryanityaniy rirva½arvurva 月 « ła Ła 因此而今， Ʌkera = ƙwace Ǎl OPĆOJ Ɲama Ɨ́llure AÐALFUNDURIN Øll ‘Ōlelo NĀ n° gban̄gba, přirozené ajiłtsǫh wónÿuú deaŧalaš © għall-maskil, tal-paċi ż-żebliħ ġabu tal-Ġnus Ħadd 人類社会のすべての構成員の固有の尊厳と平等で譲れへん権利とを承認することは、世界における自由、正義及び平和の基礎やさかい、 これらの権利及び自由に対する共通の理解は、この誓約を完全にするためにめちゃ重要やさかい、 enupa,…) pruckamakir+t ƥasil ZWAŻYWSZY, ƑOƑUAWO （1948.12.10 第３回国連総会採択） KkÕõ ⠉⠽⠑⠝ ⠁⠇⠇ ⠓⠥⠍⠁⠝ ⠃⠑⠊⠝⠛⠎ ⠁⠗⠑ ⠃⠕⠗⠝ ⠋⠗⠑⠑ ⠁⠝⠙ ⠑⠟⠥⠁⠇ ⠑⠧⠑⠗⠽⠕⠝⠑ ⠑⠝⠞⠊⠞⠇⠑⠙ ⠋⠥⠗⠞⠓⠑⠗⠍⠕⠗⠑⠂ ⠎⠑⠗⠧⠊⠞⠥⠙⠑⠆ ⠏⠗⠕⠓⠊⠃⠊⠞⠑⠙ ⠋⠕⠗⠍⠎⠲ ⠑⠝⠙⠕⠺⠑⠙ ⠅⠊⠝⠙⠂ ⠎⠑⠭⠂ ⠚⠥⠗⠊⠎⠙⠊⠉⠞⠊⠕⠝⠁⠇ ⠝⠕⠝⠤⠎⠑⠇⠋⠤⠛⠕⠧⠑⠗⠝⠊⠝⠛ ǹzhà ĘęGg ŨũMm brōþurlīkanǭ 人皆生而 Tȟaŋmáhel 空分別種族 スベテ ノ ニンゲン ジンルイ シャカイ コウセイイン コユウ ソンゲン ト ビョウドウ デ ユズル デキナイ ケンリ ヲ ハ ムシ オヨビ ケイブ ガ、 フミニジッタ ヤバン モタラシ、 ゲンロン ウケラレ、 ケツボウ カメイコク コクサイ レンゴウ ツネニ マ アル チイキ ジンシュ、 ヒフ ザイサン、 フヘンテキ カクホスル ヘイワ イッパン シュダン ハンギャク ウッタエル シンポ カンゼン びょうどう けいぶ げんろん けつぼう れんごう つねに じんしゅ、 ざいさん、 はんぎゃく しんぽ かんぜん murutǘkpí ǣghu ǵn 就系 ,ÁL,ÁLŦ. | vǟrtitõks TtÔô Ƀing pơmĭn ayŏng Śś 由拉</div>
    </div>
  

    </div>
</body>
	<script>

	POSITION = "old"
	fontToggle = document.getElementById("font-toggle")
	function switchFonts() {
	boxTitles = document.getElementsByClassName("box-title")
	items = document.getElementsByClassName("box-text");
	  
	if (POSITION === "old") {
	  POSITION = "new"
	  for (item of boxTitles) {
	    item.textContent = item.textContent.replace("old", "new")
	    fontToggle.textContent = "new"
	  }
	  for (item of items) {
		item.className = item.className.replace("old", "new")
	  }

	  } else {
	  POSITION = "old"
	  for (item of boxTitles) {
	    item.textContent = item.textContent.replace("new", "old")
	    fontToggle.textContent = "old"
	  }
	  for (item of items) {
		item.className = item.className.replace("new", "old")
	  }
	}
	}
	if (fontToggle !== null) {
		fontToggle.addEventListener("click", switchFonts);
	}

// apply optional ot feats

function buildFeatureList() {
	var features = [
		'aalt', 'c2sc', 'calt', 'case', 'cpsp', 'dlig', 'dnom',
		'fina', 'frac', 'init', 'kern', 'liga', 'lnum', 'numr', 'onum',
		'ordn', 'pnum', 'salt', 'sinf', 'smcp', 'sups',
		'swsh', 'titl', 'tnum', 'zero', 'ss01', 'ss02',
		'ss03', 'ss04', 'ss05', 'ss06', 'ss07', 'ss08',
		'ss09', 'ss10', 'ss11', 'ss12', 'ss13', 'ss14',
		'ss15', 'ss16', 'ss17', 'ss18', 'ss19', 'ss20'
	]
	
	var otPanel = document.getElementById("ot-panel")
	for (i=0; i<features.length; i++) {
		var feat = features[i]
		
		var row = document.createElement("div");

		var item = document.createElement("input");
		item.type = "checkbox"
		item.value = feat
		item.classList.add("ot-checkbox")
		var label = document.createElement("label")
		label.textContent = feat

		row.appendChild(item)
		row.appendChild(label)

		otPanel.appendChild(row)
	}
}

buildFeatureList()


function enableFeatures() {
	var checkboxes = document.getElementsByClassName("ot-checkbox")
	var res = []
	var disableKerning = false
	for (i=0; i<checkboxes.length; i++) {
		if (checkboxes[i].checked === true) {
			var checkbox = checkboxes[i]
			res.push('"' + checkbox.value + '"')

			if (checkbox.value === "kern") {
				disableKerning = true
			}
		}
	}	

	var boxText = document.getElementsByClassName("box-text")
	var otString = res.join(", ")
	for (j=0; j<boxText.length; j++) {
		boxText[j].style.fontFeatureSettings = otString
		if (disableKerning === true) {
			boxText[j].style.fontKerning = "none"
		}
	}
}

var otButton = document.getElementById("ot-button")
otButton.addEventListener("click", function() {
    otPanel = document.getElementById("ot-panel")
    if (otPanel.style.display !== "block") {
        otPanel.style.display = "block"
    } else {
        otPanel.style.display = "none"
    }
})
var checkboxes = document.getElementsByClassName("ot-checkbox")
for (i=0; i<checkboxes.length; i++) {
	cb = checkboxes[i]
	cb.addEventListener("click", enableFeatures)
}	
    
	// break text so that no reflow happens
async function breakText() {
	boxContent = document.getElementsByClassName("box-text")
	for (let box of boxContent) {
		switchFonts()
		await sleep(1)
		break1 = getLineBreaks(box)
		switchFonts()
		await sleep(1)
		break2 = getLineBreaks(box)

		if (break1.length >= break2.length) {
		breaks = break1
		} else {
		breaks = break2
		}
		insertBreaks(box, breaks)
		box.style.whiteSpace = "pre"
		console.log("set to pre")
	}
	}

function getLineBreaks(elem) {
	const nodes = grabTextNodes(elem);
	for (const node of nodes) { // each node is a big block of text
		let rangeIndex = 1;
		let textIndex = 0;
		let nodeText = node.textContent;
		const textLength = nodeText.length;

		linebreaks = []
		prevTop = 0;
		while (rangeIndex <= textLength) {
			const range = document.createRange();
			range.setStart(node, rangeIndex-1);
			range.setEnd(node, rangeIndex)
			currentTop = range.getBoundingClientRect().top
		if (currentTop > prevTop) {
			linebreaks.push(rangeIndex-2)
		}
		rangeIndex += 1;
		prevTop = currentTop
		}
	}
	return linebreaks
}

function grabTextNodes(elem) {
	const walker = document.createTreeWalker(elem, NodeFilter.SHOW_TEXT, null);
	const nodes = [];
	while (walker.nextNode()) {
		nodes.push(walker.currentNode);
	}
	return nodes;
}

	function sleep(ms) {
		return new Promise(resolve => setTimeout(resolve, ms));
}


function insertBreaks(node, breaks) {
	console.log(node, breaks)
	newText = ""
	currentText = node.textContent
	for (i=0; i<currentText.length; i++) {
		if (breaks.includes(i)) {
		newText += "<br>"
		} else {
		newText += currentText[i]
		}
	}
	node.innerHTML = newText
}

	if (fontToggle !== null) {
		breakText()
}

	


    </script>
</html>
